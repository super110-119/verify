let getVerification=config=>{let c=window.document.querySelector(config.el);c.onclick=()=>{getVerification(config)};config.usual?"":c.style.cursor="pointer";c.width=config.width||120;c.height=config.height||35;let ctx=c.getContext("2d");let text="0123456789ABCDEF";let lists=text.split("");let colors=()=>{let color="#";for(let i=0;i<6;i++){color+=lists[~~(Math.random()*lists.length)]}return color};let getWidthNums=()=>~~(Math.random()*c.width);let getHeightNums=()=>~~(Math.random()*c.height);let getNums=()=>~~(Math.random()*3);let returnNum=(min,max)=>~~(Math.random()*(max-min)+min);let message="";ctx.clearRect(0,0,c.width,c.height);let lineNumber=config.lineNumber||4;for(let q=0;q<lineNumber;q++){ctx.beginPath();ctx.lineWidth=getNums()+1;ctx.strokeStyle=colors();ctx.moveTo(3-getNums(),getHeightNums());ctx.lineTo(c.width-getNums(),getHeightNums());ctx.stroke();ctx.closePath()};let textNumber=config.textNumber||4;let isGap=c.width/textNumber;for(let a=0;a<textNumber;a++){text=lists[~~(Math.random()*lists.length)];message+=text;ctx.beginPath();ctx.font=returnNum(20,35)+"px Simhei";ctx.textBaseline="top";ctx.fillStyle=colors();ctx.save();ctx.translate(isGap*a+15,15);ctx.rotate(returnNum(-30,30)*Math.PI/180);ctx.fillText(text,-15+5,-15);ctx.restore();ctx.closePath()};let str=new RegExp("^"+message+"$","img");let returnMessage={message,str};config.success&&config.success(returnMessage);return returnMessage};